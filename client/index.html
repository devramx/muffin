<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title> Muffin </title>
    <link rel="stylesheet" href="styles.css" />
    <script type="text/javascript" src="../apiv2/api.muffin.js"></script>
</head>

<body onload="bodyOnLoadHandler()">

    <h1> Welcome to Muffin simulator </h1>
    <div>
        <textarea autofocus id="register">

        </textarea>
    </div>
    <div class="row">
        <div class="block_yellow">
            <br>
            <h2> Submit </h2>
            <div>
                <label for="key">Enter key:</label>
                <input type="text" id="key" name="key">
            </div>
            <div>
                <label for="valu">Enter value :</label>
                <input type="text" id="valu" name="valu">
            </div>
            <button type="submit" value="Submit!" onclick=submitdata()>Submit </button>
        </div>
        <div class="block_blue">
            <br>
            <h2> Retrieve </h2>
            <div>
                <label for="key">Enter key:</label>
                <input type="text" id="key2" name="key2">
            </div>
            <button type="submit" value="Submit!" onclick=retrieve()> Submit </button>
        </div>
    </div>
    <br/>
    <textarea readonly id="output" cols=100 rows=20>
      Output !
    </textarea>

    <script>
        function bodyOnLoadHandler() {
            register();

            document.getElementById("register").textContent = "Registered : " + api_key;
        }

        function submitdata() {
            var key = document.getElementById('key').value;
            var value = document.getElementById('valu').value;
            muffin_create(key, value);
        }

        function retrieve() {
            var key = document.getElementById('key2').value;
            muffin_read(key);
            console.log(res);
            document.getElementById('output').textContent = '';
            document.getElementById('output').textContent = res;

        }
    </script>

</body>

</html>
